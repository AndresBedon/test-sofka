<div class="products-page">
  <div class="list-container">
    <app-product-list
      [showActions]="true"
      (editProduct)="onEditProduct($event)"
      (deleteProduct)="onDeleteProduct($event)"
    ></app-product-list>
  </div>

  <app-confirmation-modal
    [isOpen]="showDeleteModal"
    [title]="'Confirmar Eliminación'"
    [message]="
      '¿Estás seguro de eliminar el producto ' +
      (productToDelete?.name || '') +
      '?'
    "
    [confirmText]="'Confirmar'"
    [cancelText]="'Cancelar'"
    [loading]="deleting"
    confirmButtonClass="btn-danger"
    (confirm)="onConfirmDelete()"
    (cancel)="onCancelDelete()"
    (modalClose)="onCancelDelete()"
  ></app-confirmation-modal>

  <div *ngIf="error" class="error-alert">
    <p>{{ error }}</p>
    <button (click)="error = null">×</button>
  </div>
</div>
